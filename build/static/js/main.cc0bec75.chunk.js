(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(7),c=n(25),o=n(26),u=n(29),i=n(28),s=n(0),l=n.n(s),m=n(10),d=n(32),b=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))).state={name:" ",email:" ",password:""},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(r.a)({},a,c))},e.handleSubmit=function(t){t.preventDefault(),e.props.onRegister(Object(a.a)({},e.state))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password;return l.a.createElement("div",null,l.a.createElement("h1",null,"Register Page"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Name"," ",l.a.createElement("input",{name:"name",type:"text",placeholder:"name",value:t,onChange:this.handleChange})),l.a.createElement("label",null,"Email"," ",l.a.createElement("input",{value:n,name:"email",type:"email",placeholder:"email",onChange:this.handleChange})),l.a.createElement("label",null,"Password"," ",l.a.createElement("input",{name:"password",value:a,type:"password",placeholder:"password",onChange:this.handleChange})),l.a.createElement("button",{type:"submit"}," Sign up ")))}}]),n}(s.Component);t.default=Object(m.b)(null,{onRegister:d.a.register})(b)},116:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(7),c=n(25),o=n(26),u=n(29),i=n(28),s=n(0),l=n.n(s),m=n(10),d=n(32),b=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))).state={email:"",password:""},e.handleChange=function(t){var n=t.currentTarget,a=n.name,c=n.value;e.setState(Object(r.a)({},a,c))},e.handleSubmit=function(t){t.preventDefault(),e.props.onLogin(Object(a.a)({},e.state)),e.setState({email:"",password:""})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return l.a.createElement("div",null,l.a.createElement("h2",null,"Login Page"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Email","",l.a.createElement("input",{onChange:this.handleChange,name:"email",value:t,type:"email",placeholder:"email"})),l.a.createElement("label",null,"Password","",l.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange})),l.a.createElement("button",{type:"submit"}," Sign up ")))}}]),n}(s.Component);t.default=Object(m.b)(null,{onLogin:d.a.logIn})(b)},117:function(e,t,n){"use strict";n.r(t);var a,r,c,o,u,i=n(0),s=n.n(i),l=n(11),m=n.n(l),d=n(71),b=n(7),f=n(6),h=n(75),g=n(18),p=n(13),O=Object(f.c)([],(a={},Object(b.a)(a,p.a.addContactSucess,(function(e,t){return[].concat(Object(h.a)(e),[t.payload])})),Object(b.a)(a,p.a.deleteContactsSucess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),Object(b.a)(a,p.a.fetchContactsSucess,(function(e,t){return t.payload})),a)),E=Object(f.c)(!1,(r={},Object(b.a)(r,p.a.addContactRequest,(function(){return!0})),Object(b.a)(r,p.a.addContactSucess,(function(){return!1})),Object(b.a)(r,p.a.addContactError,(function(){return!1})),Object(b.a)(r,p.a.deleteContactsRequest,(function(){return!0})),Object(b.a)(r,p.a.deleteContactsSucess,(function(){return!1})),Object(b.a)(r,p.a.deleteContactsError,(function(){return!1})),r)),j=Object(f.c)("",Object(b.a)({},p.a.getFilter,(function(e,t){return t.payload}))),v=Object(g.c)({items:O,filter:j,loading:E}),C=n(8),y={name:null,email:null},S=Object(f.c)(y,(c={},Object(b.a)(c,C.a.registerSuccess,(function(e,t){return t.payload.user})),Object(b.a)(c,C.a.loginSuccess,(function(e,t){return t.payload.user})),Object(b.a)(c,C.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(b.a)(c,C.a.logoutSuccess,(function(){return y})),c)),_=Object(f.c)(null,(o={},Object(b.a)(o,C.a.registerSuccess,(function(e,t){return t.payload.token})),Object(b.a)(o,C.a.loginSuccess,(function(e,t){return t.payload.token})),Object(b.a)(o,C.a.logoutSuccess,(function(e,t){t.payload;return null})),o)),k=Object(f.c)(null,(u={},Object(b.a)(u,C.a.registerError,(function(e,t){return t.payload})),Object(b.a)(u,C.a.loginError,(function(e,t){return t.payload})),Object(b.a)(u,C.a.logoutError,(function(e,t){return t.payload})),Object(b.a)(u,C.a.getCurrentUserError,(function(e,t){return t.payload})),Object(b.a)(u,C.a.logoutSuccess,(function(){return null})),Object(b.a)(u,C.a.getCurrentUserSuccess,(function(){return null})),u)),w=Object(g.c)({user:S,token:_,error:k}),A=n(73),R=n.n(A),q=n(34),x={key:"auth",storage:R.a,whitelist:["token"]},L=Object(f.a)(Object(b.a)({reducer:{contacts:v,auth:Object(q.g)(x,w)},devTools:!1,middleware:Object(f.d)({serializableCheck:{ignoredActions:[q.a,q.f,q.b,q.c,q.d,q.e]}})},"devTools",!1)),U=Object(q.h)(L),N=L,F=n(10),P=(n(95),n(25)),I=n(26),B=n(29),D=n(28),z=n(43),T=n(16),G=n(53),J=n(27),M=Object(F.b)((function(e){return{isAuthenticated:J.a.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(G.a)(e,["component","isAuthenticated"]);return s.a.createElement(T.b,Object.assign({},a,{render:function(e){return n?s.a.createElement(t,e):s.a.createElement(T.a,{to:"./login"})}}))})),W=n(74),V=n.n(W),H=Object(F.b)((function(e){return{isAuthenticated:J.a.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(G.a)(e,["component","isAuthenticated"]);return s.a.createElement(T.b,Object.assign({},a,{render:function(e){return n&&a.restricted?s.a.createElement(T.a,{to:"/contacts"}):s.a.createElement(t,e)}}))})),K=(n(118),n(39),n(24)),Q=(n(115),n(116),[{path:"/",label:"Home",exact:!0,component:Object(i.lazy)((function(){return n.e(3).then(n.bind(null,154))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,115))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,116))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,118))})),private:!0,restricted:!1}]),X=n(32),Y={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},Z=function(){return s.a.createElement("nav",null,Q.map((function(e){return s.a.createElement(z.b,{exact:e.exact,key:e.label,to:e.path,style:Y.link,activeStyle:Y.activeLink},e.label)})))},$={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},ee=Object(F.b)((function(e){return{name:J.a.getUserName(e)}}),{onLogout:X.a.logOut})((function(e){var t=e.avatar,n=e.name,a=e.onLogout;return s.a.createElement("div",{style:$.container},s.a.createElement("img",{src:t,alt:"",width:"32",style:$.avatar}),s.a.createElement("span",{style:$.name},"Welcome, ",n),s.a.createElement("button",{type:"button",onClick:a},"Logout"))})),te={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},ne=Object(F.b)((function(e){return{isAuthenticated:J.a.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return s.a.createElement("header",{style:te.header},s.a.createElement(Z,null),t&&s.a.createElement(ee,null))})),ae={container:{width:"80vw",marginLeft:"auto",marginRight:"auto",padding:"0 24px"}},re=function(e){var t=e.children;return s.a.createElement("div",{style:ae.container},s.a.createElement(ne,null),t)},ce=function(e){Object(B.a)(n,e);var t=Object(D.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return s.a.createElement(z.a,null,s.a.createElement("div",{className:V.a.wrapper},s.a.createElement(re,null),s.a.createElement(i.Suspense,{fallback:s.a.createElement("h1",null,"Loading...")},s.a.createElement(T.d,null,Q.map((function(e){return e.private?s.a.createElement(M,Object.assign({key:e.label},e)):s.a.createElement(H,Object.assign({key:e.label},e))}))))))}}]),n}(i.Component),oe={onGetCurrentUser:X.a.currentUser},ue=Object(F.b)((function(e){return{isLoading:K.a.loading(e)}}),oe)(ce);m.a.render(s.a.createElement(F.a,{store:N},s.a.createElement(d.a,{loading:null,persistor:U},s.a.createElement(ue,null))),document.getElementById("root"))},118:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(26),c=n(29),o=n(28),u=n(0),i=n.n(u),s=n(10),l=n(33),m=n.n(l),d=n(152),b=n(151),f=n(24),h=n(35),g=n(149),p=n(39);var O=Object(s.b)((function(e,t){var n=f.a.getContactById(e,t.id);return console.log(n),Object(h.a)({},n)}),(function(e,t){return{deleteContact:function(){return e(p.a.deleteContact(t.id))}}}))((function(e){var t=e.id,n=e.name,a=e.number,r=e.deleteContact;return i.a.createElement("li",{className:m.a.contactList__item},i.a.createElement("div",{className:m.a.contacts},i.a.createElement("span",{className:m.a.name},n),i.a.createElement("span",{className:m.a.tel},": ",a)),i.a.createElement(g.a,{className:m.a.btn,variant:"contained",color:"secondary",type:"button",id:t,onClick:r},"delete Contact"))}));var E=Object(s.b)((function(e){return{contactList:f.a.getFilteredContacts(e)}}))((function(e){var t=e.contactList;return i.a.createElement(d.a,{component:"ul",className:m.a.contact__list},t.map((function(e){var t=e.id;return i.a.createElement(b.a,{key:t,timeout:250,unmountOnExit:!0,classNames:m.a},i.a.createElement(O,{key:t,id:t}))})))})),j=n(7),v=n(150),C=n(148),y=(n(70),Notification=function(){return i.a.createElement(b.a,null,i.a.createElement("p",{className:"notification"},"This contact is already exists"))}),S=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",notification:!1},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(j.a)({},a,r))},e.getContact=function(t){if(t.preventDefault(),e.props.state.contacts.items.find((function(t){return t.name===e.state.name})))e.setState({notification:!0,name:"",number:""}),setTimeout((function(){return e.setState({notification:!1})}),1500);else{var n={name:e.state.name,number:e.state.number,id:v.a};e.props.onAddContact(n),e.setState({name:"",number:""})}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{onSubmit:this.getContact},i.a.createElement("h2",null,"Name"),i.a.createElement("label",null,"Name:",i.a.createElement(C.a,{id:"outlined-basic",type:"text",name:"name",value:t,onChange:this.handleChange,required:!0})),i.a.createElement("label",null,"Phone number:",i.a.createElement(C.a,{type:"tel",name:"number",value:n,onChange:this.handleChange,required:!0})),i.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit"},"Add Contact")),i.a.createElement(b.a,{in:this.state.notification,unmountOnExit:!0,timeout:2e3,classNames:"notification"},i.a.createElement(y,null)))}}]),n}(u.Component),_={onAddContact:p.a.addContact},k=Object(s.b)((function(e){return{state:e}}),_)(S),w={getFilterName:n(13).a.getFilter},A=Object(s.b)((function(e){return{filter:f.a.getFilter(e)}}),w)((function(e){var t=e.filter,n=e.getFilterName;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Contacts"),i.a.createElement(C.a,{type:"text",value:t,name:"filter",onChange:function(e){return n(e.target.value)}}))})),R=(n(114),function(){return i.a.createElement(b.a,{appear:!0,in:!0,timeout:500,unmountOnExit:!0,classNames:"AppTitle"},i.a.createElement("h1",{className:"title"},"PhoneBook"))}),q=n(27),x=(n(32),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(R,null),this.props.isLoading&&i.a.createElement("h1",null,"Still Loading..."),i.a.createElement(k,null),i.a.createElement(A,null),i.a.createElement(E,null))}}]),n}(u.Component)),L={onFetchContacts:p.a.fetchContacts};t.default=Object(s.b)((function(e){return{isLoading:f.a.loading(e),items:f.a.getItems(e),isAuthenticated:q.a.isAuthenticated(e)}}),L)(x)},13:function(e,t,n){"use strict";var a=n(6),r=Object(a.b)("contacts/addRequest"),c=Object(a.b)("contacts/addSucess"),o=Object(a.b)("contacts/addError"),u=Object(a.b)("contacts/fetchRequest"),i=Object(a.b)("contacts/fetchSucess"),s=Object(a.b)("contacts/fetchError"),l=Object(a.b)("contacts/deleteRequest"),m=Object(a.b)("contacts/deletSucess"),d=Object(a.b)("contacts/deleteError"),b=Object(a.b)("contacts/filter");t.a={deleteContactsRequest:l,deleteContactsSucess:m,deleteContactsError:d,getFilter:b,addContactRequest:r,addContactSucess:c,addContactError:o,fetchContactsSucess:i,fetchContactsRequest:u,fetchContactsError:s}},24:function(e,t,n){"use strict";var a=function(e){return e.contacts.items},r=function(e){return e.contacts.filter};t.a={getFilter:r,getItems:a,getFilteredContacts:function(e){var t=r(e).toLowerCase(),n=a(e);return console.log(n),n.filter((function(e){return e.name.toLowerCase().includes(t)}))},loading:function(e){return e.contacts.loading},getContactById:function(e,t){return a(e).find((function(e){return e.id===t}))}}},27:function(e,t,n){"use strict";t.a={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name}}},32:function(e,t,n){"use strict";var a=n(21),r=n.n(a),c=n(8);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(e){return r.a.defaults.headers.common.Authorization="Bearer ".concat(e)};t.a={register:function(e){return function(t){t(c.a.registerRequest()),r.a.post("/users/signUp",e).then((function(e){console.log(e.data),o(e.data.token),t(c.a.registerSuccess(e.data)),o(e.data.token)})).catch((function(e){return t(c.a.registerError(e))}))}},logIn:function(e){return function(t){t(c.a.loginRequest()),r.a.post("/users/login",e).then((function(e){console.log(e),o(e.data.token),t(c.a.loginSuccess(e.data))})).catch((function(e){return t(c.a.loginError(e.message))}))}},logOut:function(){return function(e){e(c.a.logoutRequest()),r.a.post("/users/logout").then((function(){r.a.defaults.headers.common.Authorization=" ",e(c.a.logoutSuccess())})).catch((function(t){return e(c.a.logoutError(t.message))}))}},currentUser:function(){return function(e,t){var n=t().auth.token;n&&(o(n),e(c.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(t){e(c.a.getCurrentUserSuccess(t.data))})).catch((function(t){return e(c.a.getCurrentUserError(t.message))})))}}}},33:function(e,t,n){e.exports={contact__list:"contacts-list_contact__list__1CVI9",btn:"contacts-list_btn__fKySI",contactList__item:"contacts-list_contactList__item__3TUPM",name:"contacts-list_name__2JGh4",contacts:"contacts-list_contacts__PpsPU",enter:"contacts-list_enter__swGwa",enterActive:"contacts-list_enterActive__24uOt",exit:"contacts-list_exit__36oV5",exitActive:"contacts-list_exitActive__1rDDh"}},39:function(e,t,n){"use strict";var a=n(35),r=n(21),c=n.n(r),o=n(13);t.a={addContact:function(e){return function(t){t(o.a.addContactRequest()),c.a.post("/contacts",Object(a.a)({},e)).then((function(e){t(o.a.addContactSucess(e.data))})).catch((function(e){return t(o.a.addContactError(e))}))}},fetchContacts:function(){return function(e){e(o.a.fetchContactsRequest()),c.a.get("/contacts").then((function(t){var n=t.data;return e(o.a.fetchContactsSucess(n))})).catch((function(t){return e(o.a.fetchContactsError(t))}))}},deleteContact:function(e){return function(t){t(o.a.deleteContactsRequest()),c.a.delete("/contacts/".concat(e)).then((function(){return t(o.a.deleteContactsSucess(e))})).catch((function(e){return t(o.a.deleteContactsError(e))}))}}}},70:function(e,t,n){},74:function(e,t,n){e.exports={wrapper:"global_wrapper__327cc"}},8:function(e,t,n){"use strict";var a=n(6),r=Object(a.b)("auth/registerRequest"),c=Object(a.b)("auth/registerSuccess"),o=Object(a.b)("auth/registerError"),u=Object(a.b)("auth/loginRequest"),i=Object(a.b)("auth/loginSuccess"),s=Object(a.b)("auth/loginError"),l=Object(a.b)("auth/logoutRequest"),m=Object(a.b)("auth/logoutSuccess"),d=Object(a.b)("auth/logoutError"),b=Object(a.b)("auth/getCurrentUserRequest"),f=Object(a.b)("auth/getCurrentUserSuccess"),h=Object(a.b)("auth/getCurrentUserError");t.a={registerSuccess:c,registerRequest:r,registerError:o,loginSuccess:i,loginRequest:u,loginError:s,logoutRequest:l,logoutSuccess:m,logoutError:d,getCurrentUserRequest:b,getCurrentUserSuccess:f,getCurrentUserError:h}},84:function(e,t,n){e.exports=n(117)}},[[84,1,2]]]);
//# sourceMappingURL=main.cc0bec75.chunk.js.map