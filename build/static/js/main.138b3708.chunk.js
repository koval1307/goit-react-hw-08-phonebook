(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{114:function(t,e,n){},115:function(t,e,n){"use strict";n.r(e);var a=n(35),r=n(7),c=n(25),o=n(26),u=n(30),i=n(29),s=n(0),l=n.n(s),m=n(10),d=n(28),b=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))).state={name:" ",email:" ",password:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(r.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault(),t.props.onRegister(Object(a.a)({},t.state))},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.email,a=t.password;return l.a.createElement("div",null,l.a.createElement("h1",null,"Register Page"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Name"," ",l.a.createElement("input",{name:"name",type:"text",placeholder:"name",value:e,onChange:this.handleChange})),l.a.createElement("label",null,"Email"," ",l.a.createElement("input",{value:n,name:"email",type:"email",placeholder:"email",onChange:this.handleChange})),l.a.createElement("label",null,"Password"," ",l.a.createElement("input",{name:"password",value:a,type:"password",placeholder:"password",onChange:this.handleChange})),l.a.createElement("button",{type:"submit"}," Sign up ")))}}]),n}(s.Component);e.default=Object(m.b)(null,{onRegister:d.a.register})(b)},116:function(t,e,n){"use strict";n.r(e);var a=n(35),r=n(7),c=n(25),o=n(26),u=n(30),i=n(29),s=n(0),l=n.n(s),m=n(10),d=n(28),b=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))).state={email:"",password:""},t.handleChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(r.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault(),t.props.onLogin(Object(a.a)({},t.state)),t.setState({email:"",password:""})},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return l.a.createElement("div",null,l.a.createElement("h2",null,"Login Page"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Email","",l.a.createElement("input",{onChange:this.handleChange,name:"email",value:e,type:"email",placeholder:"email"})),l.a.createElement("label",null,"Password","",l.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange})),l.a.createElement("button",{type:"submit"}," Sign up ")))}}]),n}(s.Component);e.default=Object(m.b)(null,{onLogin:d.a.logIn})(b)},117:function(t,e,n){"use strict";n.r(e);var a,r,c,o,u,i=n(0),s=n.n(i),l=n(11),m=n.n(l),d=n(71),b=n(7),f=n(6),h=n(75),g=n(18),p=n(13),O=Object(f.c)([],(a={},Object(b.a)(a,p.a.addContactSucess,(function(t,e){return[].concat(Object(h.a)(t),[e.payload])})),Object(b.a)(a,p.a.deleteContactsSucess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(b.a)(a,p.a.fetchContactsSucess,(function(t,e){return e.payload})),a)),E=Object(f.c)(!1,(r={},Object(b.a)(r,p.a.addContactRequest,(function(){return!0})),Object(b.a)(r,p.a.addContactSucess,(function(){return!1})),Object(b.a)(r,p.a.addContactError,(function(){return!1})),Object(b.a)(r,p.a.deleteContactsRequest,(function(){return!0})),Object(b.a)(r,p.a.deleteContactsSucess,(function(){return!1})),Object(b.a)(r,p.a.deleteContactsError,(function(){return!1})),r)),j=Object(f.c)("",Object(b.a)({},p.a.getFilter,(function(t,e){return e.payload}))),C=Object(g.c)({items:O,filter:j,loading:E}),v=n(8),y={name:null,email:null},S=Object(f.c)(y,(c={},Object(b.a)(c,v.a.registerSuccess,(function(t,e){return e.payload.user})),Object(b.a)(c,v.a.loginSuccess,(function(t,e){return e.payload.user})),Object(b.a)(c,v.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(b.a)(c,v.a.logoutSuccess,(function(){return y})),c)),_=Object(f.c)(null,(o={},Object(b.a)(o,v.a.registerSuccess,(function(t,e){return e.payload.token})),Object(b.a)(o,v.a.loginSuccess,(function(t,e){return e.payload.token})),Object(b.a)(o,v.a.logoutSuccess,(function(t,e){e.payload;return null})),o)),k=Object(f.c)(null,(u={},Object(b.a)(u,v.a.registerError,(function(t,e){return e.payload})),Object(b.a)(u,v.a.loginError,(function(t,e){return e.payload})),Object(b.a)(u,v.a.logoutError,(function(t,e){return e.payload})),Object(b.a)(u,v.a.getCurrentUserError,(function(t,e){return e.payload})),Object(b.a)(u,v.a.logoutSuccess,(function(){return null})),Object(b.a)(u,v.a.getCurrentUserSuccess,(function(){return null})),u)),w=Object(g.c)({user:S,token:_,error:k}),A=n(73),R=n.n(A),q=n(34),x=(Object(f.d)(),{key:"auth",storage:R.a,whitelist:["token"]}),U=Object(f.a)(Object(b.a)({reducer:{contacts:C,auth:Object(q.g)(x,w)},devTools:!1,middleware:Object(f.d)({serializableCheck:{ignoredActions:[q.a,q.f,q.b,q.c,q.d,q.e]}})},"devTools",!1)),L=Object(q.h)(U),N=U,F=n(10),P=(n(95),n(25)),I=n(26),B=n(30),D=n(29),z=n(43),T=n(16),G=n(53),J=n(27),M=Object(F.b)((function(t){return{isAuthenticated:J.a.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,a=Object(G.a)(t,["component","isAuthenticated"]);return s.a.createElement(T.b,Object.assign({},a,{render:function(t){return n?s.a.createElement(e,t):s.a.createElement(T.a,{to:"./login"})}}))})),W=n(74),V=n.n(W),H=Object(F.b)((function(t){return{isAuthenticated:J.a.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,a=Object(G.a)(t,["component","isAuthenticated"]);return s.a.createElement(T.b,Object.assign({},a,{render:function(t){return n&&a.restricted?s.a.createElement(T.a,{to:"/contacts"}):s.a.createElement(e,t)}}))})),K=(n(118),n(36)),Q=n(24),X=(n(115),n(116),[{path:"/",label:"Home",exact:!0,component:Object(i.lazy)((function(){return n.e(3).then(n.bind(null,154))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,115))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,116))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,118))})),private:!0,restricted:!1}]),Y=n(28),Z={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},$=function(){return s.a.createElement("nav",null,X.map((function(t){return s.a.createElement(z.b,{exact:t.exact,key:t.label,to:t.path,style:Z.link,activeStyle:Z.activeLink},t.label)})))},tt={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},et=Object(F.b)((function(t){return{name:J.a.getUserName(t)}}),{onLogout:Y.a.logOut})((function(t){var e=t.avatar,n=t.name,a=t.onLogout;return s.a.createElement("div",{style:tt.container},s.a.createElement("img",{src:e,alt:"",width:"32",style:tt.avatar}),s.a.createElement("span",{style:tt.name},"Welcome, ",n),s.a.createElement("button",{type:"button",onClick:a},"Logout"))})),nt={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},at=Object(F.b)((function(t){return{isAuthenticated:J.a.isAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return s.a.createElement("header",{style:nt.header},s.a.createElement($,null),e&&s.a.createElement(et,null))})),rt={container:{width:"80vw",marginLeft:"auto",marginRight:"auto",padding:"0 24px"}},ct=function(t){var e=t.children;return s.a.createElement("div",{style:rt.container},s.a.createElement(at,null),e)},ot=function(t){Object(B.a)(n,t);var e=Object(D.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return s.a.createElement(z.a,null,s.a.createElement("div",{className:V.a.wrapper},s.a.createElement(ct,null),s.a.createElement(i.Suspense,{fallback:s.a.createElement("h1",null,"Loading...")},s.a.createElement(T.d,null,X.map((function(t){return t.private?s.a.createElement(M,Object.assign({key:t.label},t)):s.a.createElement(H,Object.assign({key:t.label},t))}))))))}}]),n}(i.Component),ut={onFetchContacts:K.a.fetchContacts,onGetCurrentUser:Y.a.currentUser},it=Object(F.b)((function(t){return{isLoading:Q.a.loading(t)}}),ut)(ot);m.a.render(s.a.createElement(F.a,{store:N},s.a.createElement(d.a,{loading:null,persistor:L},s.a.createElement(it,null))),document.getElementById("root"))},118:function(t,e,n){"use strict";n.r(e);var a=n(25),r=n(26),c=n(30),o=n(29),u=n(0),i=n.n(u),s=n(10),l=n(33),m=n.n(l),d=n(152),b=n(151),f=n(24),h=n(35),g=n(149),p=n(36);var O=Object(s.b)((function(t,e){var n=f.a.getContactById(t,e.id);return console.log(n),Object(h.a)({},n)}),(function(t,e){return{deleteContact:function(){return t(p.a.deleteContact(e.id))}}}))((function(t){var e=t.id,n=t.name,a=t.number,r=t.deleteContact;return i.a.createElement("li",{className:m.a.contactList__item},i.a.createElement("div",{className:m.a.contacts},i.a.createElement("span",{className:m.a.name},n),i.a.createElement("span",{className:m.a.tel},": ",a)),i.a.createElement(g.a,{className:m.a.btn,variant:"contained",color:"secondary",type:"button",id:e,onClick:r},"delete Contact"))}));var E=Object(s.b)((function(t){return{contactList:f.a.getFilteredContacts(t)}}))((function(t){var e=t.contactList;return i.a.createElement(d.a,{component:"ul",className:m.a.contact__list},e.map((function(t){var e=t.id;return i.a.createElement(b.a,{key:e,timeout:250,unmountOnExit:!0,classNames:m.a},i.a.createElement(O,{key:e,id:e}))})))})),j=n(7),C=n(150),v=n(148),y=(n(70),Notification=function(){return i.a.createElement(b.a,null,i.a.createElement("p",{className:"notification"},"This contact is already exists"))}),S=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",notification:!1},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(j.a)({},a,r))},t.getContact=function(e){if(e.preventDefault(),t.props.state.contacts.items.find((function(e){return e.name===t.state.name})))t.setState({notification:!0,name:"",number:""}),setTimeout((function(){return t.setState({notification:!1})}),1500);else{var n={name:t.state.name,number:t.state.number,id:C.a};t.props.onAddContact(n),t.setState({name:"",number:""})}},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{onSubmit:this.getContact},i.a.createElement("h2",null,"Name"),i.a.createElement("label",null,"Name:",i.a.createElement(v.a,{id:"outlined-basic",type:"text",name:"name",value:e,onChange:this.handleChange,required:!0})),i.a.createElement("label",null,"Phone number:",i.a.createElement(v.a,{type:"tel",name:"number",value:n,onChange:this.handleChange,required:!0})),i.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit"},"Add Contact")),i.a.createElement(b.a,{in:this.state.notification,unmountOnExit:!0,timeout:2e3,classNames:"notification"},i.a.createElement(y,null)))}}]),n}(u.Component),_={onAddContact:p.a.addContact},k=Object(s.b)((function(t){return{state:t}}),_)(S),w={getFilterName:n(13).a.getFilter},A=Object(s.b)((function(t){return{filter:f.a.getFilter(t)}}),w)((function(t){var e=t.filter,n=t.getFilterName;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Contacts"),i.a.createElement(v.a,{type:"text",value:e,name:"filter",onChange:function(t){return n(t.target.value)}}))})),R=(n(114),function(){return i.a.createElement(b.a,{appear:!0,in:!0,timeout:500,unmountOnExit:!0,classNames:"AppTitle"},i.a.createElement("h1",{className:"title"},"PhoneBook"))}),q=n(27),x=n(28),U=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts(),this.props.onGetCurrentUser()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(R,null),this.props.isLoading&&i.a.createElement("h1",null,"Still Loading..."),i.a.createElement(k,null),i.a.createElement(A,null),i.a.createElement(E,null))}}]),n}(u.Component),L={onFetchContacts:p.a.fetchContacts,onGetCurrentUser:x.a.currentUser};e.default=Object(s.b)((function(t){return{isLoading:f.a.loading(t),items:f.a.getItems(t),isAuthenticated:q.a.isAuthenticated(t)}}),L)(U)},13:function(t,e,n){"use strict";var a=n(6),r=Object(a.b)("contacts/addRequest"),c=Object(a.b)("contacts/addSucess"),o=Object(a.b)("contacts/addError"),u=Object(a.b)("contacts/fetchRequest"),i=Object(a.b)("contacts/fetchSucess"),s=Object(a.b)("contacts/fetchError"),l=Object(a.b)("contacts/deleteRequest"),m=Object(a.b)("contacts/deletSucess"),d=Object(a.b)("contacts/deleteError"),b=Object(a.b)("contacts/filter");e.a={deleteContactsRequest:l,deleteContactsSucess:m,deleteContactsError:d,getFilter:b,addContactRequest:r,addContactSucess:c,addContactError:o,fetchContactsSucess:i,fetchContactsRequest:u,fetchContactsError:s}},24:function(t,e,n){"use strict";var a=function(t){return t.contacts.items},r=function(t){return t.contacts.filter};e.a={getFilter:r,getItems:a,getFilteredContacts:function(t){var e=r(t).toLowerCase(),n=a(t);return console.log(n),n.filter((function(t){return t.name.toLowerCase().includes(e)}))},loading:function(t){return t.contacts.loading},getContactById:function(t,e){return a(t).find((function(t){return t.id===e}))}}},27:function(t,e,n){"use strict";e.a={isAuthenticated:function(t){return t.auth.token},getUserName:function(t){return t.auth.user.name}}},28:function(t,e,n){"use strict";var a=n(21),r=n.n(a),c=n(8);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(t){return r.a.defaults.headers.common.Authorization="Bearer ".concat(t)};e.a={register:function(t){return function(e){e(c.a.registerRequest()),r.a.post("/users/signUp",t).then((function(t){console.log(t.data),o(t.data.token),e(c.a.registerSuccess(t.data)),o(t.data.token)})).catch((function(t){return e(c.a.registerError(t))}))}},logIn:function(t){return function(e){e(c.a.loginRequest()),r.a.post("/users/login",t).then((function(t){console.log(t),o(t.data.token),e(c.a.loginSuccess(t.data))})).catch((function(t){return e(c.a.loginError(t.message))}))}},logOut:function(){return function(t){t(c.a.logoutRequest()),r.a.post("/users/logout").then((function(){r.a.defaults.headers.common.Authorization=" ",t(c.a.logoutSuccess())})).catch((function(e){return t(c.a.logoutError(e.message))}))}},currentUser:function(){return function(t,e){var n=e().auth.token;n&&(o(n),t(c.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){t(c.a.getCurrentUserSuccess(e.data))})).catch((function(e){return t(c.a.getCurrentUserError(e.message))})))}}}},33:function(t,e,n){t.exports={contact__list:"contacts-list_contact__list__1CVI9",btn:"contacts-list_btn__fKySI",contactList__item:"contacts-list_contactList__item__3TUPM",name:"contacts-list_name__2JGh4",contacts:"contacts-list_contacts__PpsPU",enter:"contacts-list_enter__swGwa",enterActive:"contacts-list_enterActive__24uOt",exit:"contacts-list_exit__36oV5",exitActive:"contacts-list_exitActive__1rDDh"}},36:function(t,e,n){"use strict";var a=n(35),r=n(21),c=n.n(r),o=n(13);e.a={addContact:function(t){return function(e){e(o.a.addContactRequest()),c.a.post("/contacts",Object(a.a)({},t)).then((function(t){e(o.a.addContactSucess(t.data))})).catch((function(t){return e(o.a.addContactError(t))}))}},fetchContacts:function(){return function(t){t(o.a.fetchContactsRequest()),c.a.get("/contacts").then((function(e){var n=e.data;return t(o.a.fetchContactsSucess(n))})).catch((function(e){return t(o.a.fetchContactsError(e))}))}},deleteContact:function(t){return function(e){e(o.a.deleteContactsRequest()),c.a.delete("/contacts/".concat(t)).then((function(){return e(o.a.deleteContactsSucess(t))})).catch((function(t){return e(o.a.deleteContactsError(t))}))}}}},70:function(t,e,n){},74:function(t,e,n){t.exports={wrapper:"global_wrapper__327cc"}},8:function(t,e,n){"use strict";var a=n(6),r=Object(a.b)("auth/registerRequest"),c=Object(a.b)("auth/registerSuccess"),o=Object(a.b)("auth/registerError"),u=Object(a.b)("auth/loginRequest"),i=Object(a.b)("auth/loginSuccess"),s=Object(a.b)("auth/loginError"),l=Object(a.b)("auth/logoutRequest"),m=Object(a.b)("auth/logoutSuccess"),d=Object(a.b)("auth/logoutError"),b=Object(a.b)("auth/getCurrentUserRequest"),f=Object(a.b)("auth/getCurrentUserSuccess"),h=Object(a.b)("auth/getCurrentUserError");e.a={registerSuccess:c,registerRequest:r,registerError:o,loginSuccess:i,loginRequest:u,loginError:s,logoutRequest:l,logoutSuccess:m,logoutError:d,getCurrentUserRequest:b,getCurrentUserSuccess:f,getCurrentUserError:h}},84:function(t,e,n){t.exports=n(117)}},[[84,1,2]]]);
//# sourceMappingURL=main.138b3708.chunk.js.map